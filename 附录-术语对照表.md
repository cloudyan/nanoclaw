# 附录：术语对照表

本文档提供 NanoClaw 项目中使用的核心术语的双语对照（英文 + 中文解释），按类别组织，便于开发者理解项目文档和源码。

---

## 目录

1. [技术术语](#1-技术术语)
2. [架构概念](#2-架构概念)
3. [开发工具与框架](#3-开发工具与框架)
4. [安全相关术语](#4-安全相关术语)
5. [数据库术语](#5-数据库术语)

---

## 1. 技术术语

| 英文术语 | 中文术语 | 解释 |
|---------|---------|------|
| **Host** | 主机 | NanoClaw 的主进程运行环境（macOS），负责 WhatsApp 连接、消息路由、任务调度等核心功能 |
| **Container** | 容器 | Agent 执行的隔离环境（Linux VM），通过 Apple Container 或 Docker 运行，提供文件系统隔离 |
| **IPC (Inter-Process Communication)** | 进程间通信 | Host 进程与 Container 之间通过文件系统进行的通信机制 |
| **WhatsApp** | WhatsApp 即时通讯 | 项目使用的即时通讯平台，通过 baileys 库连接 WhatsApp Web 协议 |
| **baileys** | WhatsApp Web 协议库 | `@whiskeysockets/baileys` 库，用于连接 WhatsApp Web、收发消息 |
| **Node.js** | Node.js 运行时环境 | JavaScript 运行时，NanoClaw 主进程的运行环境，要求版本 20+ |
| **TypeScript** | TypeScript 类型化语言 | 项目使用的类型化超集语言，提供类型安全 |
| **Polling Loop** | 轮询循环 | 定期检查数据库或文件系统的循环机制，NanoClaw 使用轮询而非事件驱动 |
| **Message Loop** | 消息循环 | 轮询 SQLite 数据库获取新消息的循环，每 2 秒执行一次 |
| **Scheduler Loop** | 调度循环 | 轮询检查到期计划任务的循环，每 60 秒执行一次 |
| **IPC Watcher** | IPC 监控器 | 监控 Container 发送的 IPC 文件的组件，每 1 秒轮询一次 |
| **Trigger Pattern** | 触发模式 | 用于匹配消息的正则表达式，默认为 `@Andy`，决定是否触发 Agent 处理 |
| **Regular Expression (Regex)** | 正则表达式 | 用于模式匹配的文本搜索表达式，TRIGGER_PATTERN 使用正则实现 |
| **Volume Mount** | 卷挂载 | 将主机目录映射到容器内部的机制，NanoClaw 通过挂载提供文件系统访问 |
| **Session** | 会话 | Claude Agent SDK 的会话标识，用于维护对话上下文和状态 |
| **Context** | 上下文 | Agent 处理消息时所需的对话历史和相关信息 |
| **Timestamp** | 时间戳 | 记录事件发生时间的标记，格式为 ISO 8601（如 `2026-02-03T13:45:00.000Z`） |
| **JID (Jabber ID)** | JID 标识符 | WhatsApp 的唯一聊天标识符，格式如 `120363336345536173@g.us` |
| **Chat Metadata** | 聊天元数据 | 聊天的基本信息（ID、名称、最后活动时间），用于组发现和管理 |
| **Polling Interval** | 轮询间隔 | 轮询循环执行的时间间隔，消息轮询为 2000ms，IPC 轮询为 1000ms |
| **At-least-once Semantics** | 至少一次语义 | 消息投递保证，确保消息被处理但可能重复，通过时间戳跟踪实现 |
| **Snapshot** | 快照 | 写入文件的临时数据副本，Container 通过读取快照获取任务和组信息 |
| **State Persistence** | 状态持久化 | 将内存状态保存到文件系统的机制，确保重启后恢复 |
| **Authentication** | 身份认证 | 验证用户或系统身份的过程，WhatsApp 使用多文件认证状态 |
| **Authorization** | 授权 | 验证操作权限的过程，NanoClaw 基于目录路径进行授权检查 |
| **Credentials** | 凭证 | 身份验证所需的密钥或令牌，如 WhatsApp 认证状态、API 密钥 |
| **Agent** | 代理/智能体 | 在 Container 中运行的 Claude Agent，负责处理用户请求和生成响应 |
| **CLI (Command Line Interface)** | 命令行界面 | 通过终端命令与系统交互的接口 |
| **SDK (Software Development Kit)** | 软件开发工具包 | 提供特定功能的编程接口，如 Claude Agent SDK |
| **Runtime** | 运行时 | 程序执行的环境，如 Node.js 运行时、容器运行时 |
| **Dependency** | 依赖 | 项目运行所需的外部库或模块 |
| **Configuration** | 配置 | 系统运行参数的设置，NanoClaw 最小化配置文件，通过代码修改实现定制 |
| **Environment Variable** | 环境变量 | 影响程序行为的系统级变量，如 `TIMEZONE`、`CLAUDE_CODE_OAUTH_TOKEN` |
| **Log** | 日志 | 记录系统运行事件的信息，使用 pino 库进行结构化日志记录 |
| **Debug** | 调试 | 识别和修复程序错误的过程，NanoClaw 采用 AI-native 调试方式 |
| **Error Handling** | 错误处理 | 捕获和处理程序异常响应的机制 |
| **Exception** | 异常 | 程序执行过程中发生的错误或意外情况 |
| **Callback** | 回调函数 | 作为参数传递、在特定事件发生时执行的函数 |
| **Promise** | Promise 对象 | 表示异步操作最终完成或失败的对象 |
| **Async/Await** | 异步/等待 | JavaScript 的异步编程语法，使异步代码更简洁 |
| **Event Loop** | 事件循环 | 处理异步事件和回调的机制，Node.js 的核心组成部分 |
| **Event Driven** | 事件驱动 | 基于事件触发代码执行的编程范式，NanoClaw 选择轮询而非事件驱动 |

---

## 2. 架构概念

| 英文术语 | 中文术语 | 解释 |
|---------|---------|------|
| **Three-tier Architecture** | 三层架构 | NanoClaw 的架构模型：消息层（WhatsApp 连接）、路由层（消息调度）、执行层（Agent 运行） |
| **Message Layer** | 消息层 | 三层架构的最底层，负责 WhatsApp 连接、消息存储和发送 |
| **Routing Layer** | 路由层 | 三层架构的中间层，负责消息轮询、触发检测、上下文重构和任务调度 |
| **Execution Layer** | 执行层 | 三层架构的最上层，在隔离容器中执行 Agent |
| **Single Process Architecture** | 单进程架构 | NanoClaw 的核心设计，整个应用在一个 Node.js 进程中运行 |
| **Process Isolation** | 进程隔离 | 通过容器技术将 Agent 运行在独立进程中，与主进程隔离 |
| **Filesystem Isolation** | 文件系统隔离 | 容器只能访问明确挂载的目录，无法访问主机其他位置 |
| **Group Isolation** | 组隔离 | 每个 WhatsApp 组拥有独立的文件系统、会话和 IPC 命名空间 |
| **Main Channel / Main Group** | 主通道/主组 | 用户的私人控制通道（self-chat），可管理所有组，无需触发前缀 |
| **Registered Group** | 已注册组 | 在 `registered_groups.json` 中登记的 WhatsApp 组，NanoClaw 只会处理这些组的消息 |
| **Isolated Context** | 隔离上下文 | 每个组独立的对话历史和记忆，通过 `lastAgentTimestamp` 实现 |
| **IPC Namespace** | IPC 命名空间 | 每个组独立的 IPC 目录（`data/ipc/{group}/`），包含 `messages/` 和 `tasks/` 子目录 |
| **Container Lifecycle** | 容器生命周期 | 容器从创建到销毁的完整过程：spawn → execute → collect output → cleanup |
| **Spawn** | 孵化/创建 | 启动容器进程的过程，使用 `child_process.spawn` |
| **Cleanup** | 清理 | 容器执行完成后的资源释放和日志写入 |
| **Timeout** | 超时 | 容器运行的最大时间限制，超时后发送 SIGKILL 终止 |
| **Output Buffer** | 输出缓冲区 | 收集容器标准输出的内存区域，有大小限制防止内存溢出 |
| **Task Scheduling** | 任务调度 | 管理和执行计划任务的功能，支持 cron、interval、once 三种类型 |
| **Cron Expression** | Cron 表达式 | 表示定时执行时间的格式，如 `0 9 * * *` 表示每天上午 9 点 |
| **Interval Scheduling** | 间隔调度 | 以固定时间间隔执行任务的调度方式，单位为毫秒 |
| **One-time Task** | 一次性任务 | 只执行一次的任务，执行后状态变为 `completed` |
| **Scheduled Task** | 计划任务 | 预先配置好执行时间的任务，存储在 SQLite 的 `scheduled_tasks` 表中 |
| **Task Status** | 任务状态 | 任务的生命周期状态：`active`（活跃）、`paused`（暂停）、`completed`（完成） |
| **Message Routing** | 消息路由 | 决定消息是否处理、如何处理的决策过程 |
| **Context Reconstruction** | 上下文重构 | 获取自上次 Agent 交互以来的所有消息，构建完整的对话历史 |
| **Group Discovery** | 组发现 | 自动获取用户参与的 WhatsApp 组列表的功能 |
| **Group Metadata** | 组元数据 | 组的附加信息（名称、成员、描述），通过 WhatsApp API 获取 |
| **Reconnection** | 重连 | 连接断开后自动重新建立连接的过程 |
| **Graceful Degradation** | 优雅降级 | 系统部分故障时仍保持基本功能的运行方式 |

---

## 3. 开发工具与框架

| 英文术语 | 中文术语 | 解释 |
|---------|---------|------|
| **Claude Agent SDK** | Claude 代理开发工具包 | `@anthropic-ai/claude-agent-sdk` 库，用于运行 Claude 模型、管理工具和会话 |
| **MCP (Model Context Protocol)** | 模型上下文协议 | 提供 Agent 工具的标准协议，NanoClaw 自定义 MCP 工具用于 IPC 通信 |
| **agent-browser** | 浏览器自动化工具 | 基于 Chromium 的网页交互工具，支持搜索、点击、表单填写等操作 |
| **WebSearch** | 网络搜索工具 | MCP 提供的搜索引擎功能，允许 Agent 搜索网络信息 |
| **WebFetch** | 网络获取工具 | MCP 提供的网页内容获取工具，允许 Agent 抓取网页 |
| **Bash Tool** | Bash 工具 | Claude Agent SDK 提供的命令行执行工具，在容器内安全运行 |
| **Read/Write/Edit Tools** | 读写编辑工具 | Claude Agent SDK 提供的文件操作工具，用于读写和编辑文件 |
| **cron-parser** | Cron 表达式解析器 | 用于解析和计算 cron 表达式的库，支持时区配置 |
| **pino** | 轻量级日志库 | Node.js 的高性能结构化日志库，NanoClaw 用于日志记录 |
| **launchd** | macOS 服务管理器 | macOS 的系统服务管理框架，用于管理 NanoClaw 后台服务 |
| **better-sqlite3** | 高性能 SQLite 封装 | SQLite 数据库的同步封装库，提供更好的性能 |
| **Apple Container** | Apple 容器 | macOS 平台的轻量级 Linux VM 容器运行时，Apple Silicon 优化 |
| **Docker** | Docker 容器平台 | 跨平台的容器运行时，Linux 平台和 macOS 非 Apple Silicon 使用 |
| **Linux VM** | Linux 虚拟机 | 容器内部运行的操作系统环境，提供完整的 Linux 环境 |
| **Chromium** | Chromium 浏览器引擎 | 开源的浏览器引擎，agent-browser 基于 Chromium 构建 |
| **SQLite** | SQLite 数据库 | 轻量级嵌入式数据库，存储消息、任务和运行日志 |
| **child_process** | 子进程模块 | Node.js 的内置模块，用于创建和管理子进程 |
| **fs (File System)** | 文件系统模块 | Node.js 的内置模块，提供文件读写操作 |
| **path** | 路径模块 | Node.js 的内置模块，处理文件路径 |
| **zod** | 数据验证库 | TypeScript 的数据验证库，MCP 工具使用 zod 定义参数模式 |
| **Signal** | 信号 | Unix 系统进程间通信机制，用于发送进程控制命令（如 SIGKILL） |
| **SIGKILL** | 终止信号 | Unix 信号，用于强制终止进程 |
| **stdout** | 标准输出 | 程序的正常输出流，容器通过 stdout 返回 Agent 响应 |
| **stderr** | 标准错误 | 程序的错误输出流，用于调试日志 |
| **stdin** | 标准输入 | 程序的输入流，Host 通过 stdin 向容器传递输入数据 |
| **JSON (JavaScript Object Notation)** | JSON 数据格式 | 轻量级数据交换格式，IPC 文件和配置使用 JSON 格式 |
| **ISO 8601** | ISO 8601 时间格式 | 国际标准的时间表示格式，如 `2026-02-03T13:45:00.000Z` |

---

## 4. 安全相关术语

| 英文术语 | 中文术语 | 解释 |
|---------|---------|------|
| **OS-level Isolation** | 操作系统级隔离 | 通过容器技术实现的底层隔离，比应用层权限检查更可靠 |
| **Sandboxing** | 沙箱技术 | 将程序运行在受限环境中，限制其对系统资源的访问 |
| **Security Boundary** | 安全边界 | 划分可信和不可信区域的边界，容器提供硬边界 |
| **Trust Boundary** | 信任边界 | 不同信任级别之间的分界，如 Host 与 Container 之间 |
| **Container Escape** | 容器逃逸 | 突破容器隔离、访问主机资源的安全漏洞 |
| **Privilege Escalation** | 权限提升 | 试图获取超出授权范围权限的攻击行为 |
| **Cross-group** | 跨组 | 涉及多个组的操作，NanoClaw 限制非主组的跨组操作 |
| **Authorization Check** | 授权检查 | 验证操作是否被允许的过程，NanoClaw 基于目录路径进行验证 |
| **Permission Matrix** | 权限矩阵 | 定义不同主体对不同客体权限的矩阵表 |
| **Input Validation** | 输入验证 | 检查用户输入是否符合预期格式和范围 |
| **State Management** | 状态管理 | 管理应用运行状态（时间戳、会话、组信息）的机制 |
| **Lifecycle Management** | 生命周期管理 | 管理对象从创建到销毁的完整过程 |
| **Resource Isolation** | 资源隔离 | 限制不同组件对系统资源访问的机制 |
| **Access Control** | 访问控制 | 控制系统资源访问权限的机制 |
| **Allowlist** | 允许列表 | 明确允许访问的资源列表，NanoClaw 使用挂载白名单 |
| **Blocklist** | 阻止列表 | 明确禁止访问的资源列表，NanoClaw 使用敏感路径阻止模式 |
| **Whitelist** | 白名单 | 同 Allowlist，允许访问的资源列表 |
| **Blacklist** | 黑名单 | 同 Blocklist，禁止访问的资源列表 |
| **Path Traversal** | 路径遍历 | 通过特殊路径（如 `../`）试图访问预期范围外文件的攻击 |
| **Symlink Attack** | 符号链接攻击 | 通过符号链接绕过路径检查的攻击方式 |
| **Read-only** | 只读 | 只允许读取、不允许修改的访问模式 |
| **Read-write** | 读写 | 允许读取和修改的访问模式 |
| **Non-root User** | 非 root 用户 | 以非超级用户身份运行容器，提高安全性 |
| **Temporary Container** | 临时容器 | 每次调用都创建新环境，执行后自动销毁的容器 |
| **External Storage** | 外部存储 | 存储在项目目录外的配置文件，防止容器修改 |
| **Default Deny** | 默认拒绝 | 未明确允许的操作被拒绝的安全策略 |
| **Default Read-only** | 默认只读 | 非主组默认只能以只读模式访问挂载目录 |
| **Credential Filtering** | 凭证过滤 | 只暴露必要环境变量（如 API 密钥）的机制 |
| **Mount Validation** | 挂载验证 | 检查额外挂载是否在白名单中的安全机制 |
| **Realpath Resolution** | 真实路径解析 | 解析符号链接、获取真实文件路径的过程 |
| **Relative Path Check** | 相对路径检查 | 验证路径是否在允许目录下的检查机制 |

---

## 5. 数据库术语

| 英文术语 | 中文术语 | 解释 |
|---------|---------|------|
| **Database** | 数据库 | 存储结构化数据的系统，NanoClaw 使用 SQLite |
| **Table** | 表 | 数据库中存储数据的二维结构 |
| **Row** | 行 | 表中的一条记录 |
| **Column** | 列 | 表中的字段 |
| **Primary Key** | 主键 | 唯一标识表中每行的列 |
| **Query** | 查询 | 从数据库检索数据的操作 |
| **Insert** | 插入 | 向表中添加新行的操作 |
| **Update** | 更新 | 修改表中现有数据的操作 |
| **Delete** | 删除 | 从表中移除数据的操作 |
| **Index** | 索引 | 提高查询性能的数据结构 |
| **Transaction** | 事务 | 作为单个逻辑单元执行的操作序列 |
| **Schema** | 表结构 | 数据库表的定义（列名、数据类型、约束） |
| **SQL (Structured Query Language)** | 结构化查询语言 | 操作关系数据库的标准语言 |
| **Prepared Statement** | 预处理语句 | 预编译的 SQL 语句，防止 SQL 注入 |
| **Connection Pool** | 连接池 | 复用数据库连接的机制 |
| **Migration** | 数据库迁移 | 更新数据库结构的过程 |
| **Backup** | 备份 | 数据库的副本，用于灾难恢复 |
| **Restore** | 恢复 | 从备份还原数据库的过程 |

---

## 快速索引

### 按字母顺序（英文）

| 术语 | 页码/位置 |
|------|----------|
| Access Control | 安全相关术语 |
| Agent | 技术术语 |
| Allowlist | 安全相关术语 |
| Apple Container | 开发工具与框架 |
| Asyn/Await | 技术术语 |
| At-least-once Semantics | 技术术语 |
| Authentication | 技术术语 |
| Authorization | 技术术语 |
| baileys | 技术术语 |
| Bash Tool | 开发工具与框架 |
| Blacklist | 安全相关术语 |
| Callback | 技术术语 |
| Chat Metadata | 技术术语 |
| Claude Agent SDK | 开发工具与框架 |
| Container | 技术术语 |
| Container Escape | 安全相关术语 |
| Context | 技术术语 |
| Credentials | 技术术语 |
| Cron Expression | 架构概念 |
| Cross-group | 安全相关术语 |
| Debug | 技术术语 |
| Dependency | 技术术语 |
| Docker | 开发工具与框架 |
| Environment Variable | 技术术语 |
| Error Handling | 技术术语 |
| Event Driven | 技术术语 |
| Event Loop | 技术术语 |
| Exception | 技术术语 |
| Execution Layer | 架构概念 |
| Filesystem Isolation | 架构概念 |
| Group Isolation | 架构概念 |
| Host | 技术术语 |
| Input Validation | 安全相关术语 |
| IPC | 技术术语 |
| IPC Namespace | 架构概念 |
| IPC Watcher | 技术术语 |
| JID | 技术术语 |
| Linux VM | 开发工具与框架 |
| Log | 技术术语 |
| Main Group | 架构概念 |
| MCP | 开发工具与框架 |
| Message Loop | 技术术语 |
| Message Layer | 架构概念 |
| Message Routing | 架构概念 |
| Node.js | 技术术语 |
| Path Traversal | 安全相关术语 |
| Permission Matrix | 安全相关术语 |
| Polling Interval | 技术术语 |
| Polling Loop | 技术术语 |
| Privilege Escalation | 安全相关术语 |
| Promise | 技术术语 |
| Read-only | 安全相关术语 |
| Read-write | 安全相关术语 |
| Registered Group | 架构概念 |
| Regular Expression | 技术术语 |
| Reconnection | 架构概念 |
| Routing Layer | 架构概念 |
| Runtime | 技术术语 |
| Sandboxing | 安全相关术语 |
| Scheduler Loop | 技术术语 |
| Scheduled Task | 架构概念 |
| Security Boundary | 安全相关术语 |
| Session | 技术术语 |
| SIGKILL | 开发工具与框架 |
| Snapshot | 技术术语 |
| SQLite | 开发工具与框架 |
| State Management | 安全相关术语 |
| State Persistence | 技术术语 |
| Symlink Attack | 安全相关术语 |
| Task Scheduling | 架构概念 |
| Three-tier Architecture | 架构概念 |
| Timestamp | 技术术语 |
| Trigger Pattern | 技术术语 |
| Trust Boundary | 安全相关术语 |
| TypeScript | 技术术语 |
| Volume Mount | 技术术语 |
| WebFetch | 开发工具与框架 |
| WebSearch | 开发工具与框架 |
| Whitelist | 安全相关术语 |

---

## 相关文档

- [00-项目概览与哲学](./00-项目概览与哲学.md)
- [10-整体架构与数据流](./10-整体架构与数据流.md)
- [11-消息路由机制](./11-消息路由机制.md)
- [12-容器隔离系统](./12-容器隔离系统.md)
- [14-IPC 机制深度解析](./14-IPC%20机制深度解析.md)
- [15-安全模型实现细节](./15-安全模型实现细节.md)
